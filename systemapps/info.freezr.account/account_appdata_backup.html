<!--
options:
            'pages':{
            'appdata_backup': {
                page_title:"Backup and Restore data",
                page_url:"account_appdata_backup.html",
                css_files: ["account_appdata_backup.css"],
                script_files: ["account_appdata_backup.js","FileSaver.js"]
            }
-->

<div id="toptitle">
  <span id="freezrHome" >Freezr Home</span>
  <span id="backToApp" >Back to App</span>
</div>
<div class="freezer_dialogueTitle marginLeft" >Back Up and Restore All Your Data from App: <span id="app_name"></span></div>
<div id="user_id_note">
    User: <span id="freezr_user_id"></span>
</div>
<div id="warnings"></div>


<div id="download_area">
  <div class="freezer_dialogueTitle marginLeft" >Back Up</div>
  <div class="marginLeft" >Choose one of the tables to back up. Multiple files of around 2MB will be created with your data. Each file will have a JSON object. The key "app_tables" has a list. Each item in the list corresponds to one collection, an object with keys "name", the collection name and "data", a list of all objects. </div>

  <div id="collection_area">Collection:
      <select id="collection_names">
      </select>
  </div>

  <div id="getAndSaveData">Retrieve all data and save to a file</div>
</div>

<div id="upload_area">
  <div class="freezer_dialogueTitle" >Restore</div>
  Note that restoring doesn't work with files at this point. Also, cross referencing _id's of different app_tables is not stable. Manual id's are automatically added. _id's which are not specified by the app are currently ignored.<br/>
  <form id="uploadForm">
    <br/>
    <input type="file" id="fileUploader" name="files[]" multiple />
    <br/>
    <br/>
    <input type="checkbox" name="keepId" id="keepIdEl" value="keepId">Keep id?
  </form>
  <div id="uploadAndRestoreData">Restore data by uploading file</div>
</div>

<div id="upload_nums" ></div>
<div id="err_nums"  ></div>
<div id="backup_status" ></div>
<div id="check_record" style="display:none">
  <div class="freezer_dialogueTitle marginLeft" >Decide for each record or all records:</div>
  <div id="upload_butts"><span class="freezer_butt" id="skipRecord">SKIP RECORD</span><span class="freezer_butt" id="addRecord">ADD RECORD</span><span id="addAllRecords" class="freezer_butt">ADD ALL RECORDS IN FILE</span><span id="addAllFiles" class="freezer_butt">ADD ALL FILES</span></div>
  <div id="current_record"></div>
</div>
